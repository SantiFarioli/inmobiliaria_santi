@model inmobiliaria_santi.Models.Contrato

@{
    ViewData["Title"] = "Detalle Contrato";
}

<h2 class="text-center">Detalle de Contrato</h2>

<div>
    <h4>Contrato</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Propietario
        </dt>
        <dd class="col-sm-10">
            @Model.PropietarioNombre @Model.PropietarioApellido
        </dd>

        <dt class="col-sm-2">
            Inquilino
        </dt>
        <dd class="col-sm-10">
            @Model.InquilinoNombre @Model.InquilinoApellido
        </dd>

        <dt class="col-sm-2">
            Dirección del Inmueble
        </dt>
        <dd class="col-sm-10">
            @Model.InmuebleDireccion
        </dd>

        <dt class="col-sm-2">
            Fecha de Inicio
        </dt>
        <dd class="col-sm-10">
            @Model.fechaInicio.ToString("dd/MM/yyyy")
        </dd>

        <dt class="col-sm-2">
            Fecha de Fin
        </dt>
        <dd class="col-sm-10">
            @Model.fechaFin.ToString("dd/MM/yyyy")
        </dd>

        <dt class="col-sm-2">
            Monto de Renta
        </dt>
        <dd class="col-sm-10">
            @Model.montoRenta.ToString("C")
        </dd>

        <dt class="col-sm-2">
            Depósito
        </dt>
        <dd class="col-sm-10">
            @Model.deposito.ToString("C")
        </dd>

        <dt class="col-sm-2">
            Comisión
        </dt>
        <dd class="col-sm-10">
            @Model.comision.ToString("C")
        </dd>

        <dt class="col-sm-2">
            Condiciones
        </dt>
        <dd class="col-sm-10">
            @Model.condiciones
        </dd>

        @if (Model.estado == false) // Mostrar campos adicionales si el contrato está rescindido
        {
            <dt class="col-sm-2">
                Estado
            </dt>
            <dd class="col-sm-10">
                Rescindido
            </dd>

            <dt class="col-sm-2">
                Fecha de Terminación Temprana
            </dt>
            <dd class="col-sm-10">
                @Model.fechaTerminacionTemprana?.ToString("dd/MM/yyyy")
            </dd>

            <dt class="col-sm-2">
                Multa por Terminación Temprana
            </dt>
            <dd class="col-sm-10">
                @(Model.multaTerminacionTemprana?.ToString("C") ?? "N/A")
            </dd>

            <dt class="col-sm-2">
                Porcentaje de Multa
            </dt>
            <dd class="col-sm-10">
                @(Model.porcentajeMulta.HasValue ? (Model.porcentajeMulta.Value * 100).ToString("F2") + "%" : "N/A")
            </dd>

            <dt class="col-sm-2">
                Usuario que Terminó el Contrato
            </dt>
            <dd class="col-sm-10">
                @Model.usuarioTerminacion
            </dd>
        }
    </dl>
</div>

<div class="text-center">
    @if (Model.estado == true)  // Mostrar solo si el contrato no ha sido rescindido
    {
        <a asp-action="RescindirContrato" asp-route-id="@Model.idContrato" class="btn btn-danger">Rescindir Contrato</a>
    }
    <a asp-action="Index" class="btn btn-primary">Volver al listado</a>
</div>